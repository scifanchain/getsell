# Gestell é¡¹ç›®ç»“æ„åˆ†æä¸æ¸…ç†æ–‡æ¡£

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ
**ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ9æ—¥  
**é¡¹ç›®åç§°**: Gestell - ä¼˜é›…çš„å†™ä½œå·¥å…·  
**æŠ€æœ¯æ ˆ**: Electron + Vue 3 + TypeScript + Prisma + SQLite  

---

## ğŸ—ï¸ å½“å‰é¡¹ç›®ç»“æ„

### æ ¹ç›®å½•
```
gestell/
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .git/                         # Git ç‰ˆæœ¬æ§åˆ¶
â”œâ”€â”€ .gitignore                    # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .npmrc                        # NPM é…ç½®
â”œâ”€â”€ gestell.code-workspace        # VSCode å·¥ä½œåŒºé…ç½®
â”œâ”€â”€ package.json                  # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ package-lock.json             # é”å®šä¾èµ–ç‰ˆæœ¬
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ tsconfig.main.json            # ä¸»è¿›ç¨‹ TS é…ç½®
â”œâ”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ dev.ps1                       # å¼€å‘å¯åŠ¨è„šæœ¬
â”œâ”€â”€ setup-build-env.ps1          # æ„å»ºç¯å¢ƒè®¾ç½®è„šæœ¬
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”œâ”€â”€ data/                         # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ dist/                         # ä¸»è¿›ç¨‹æ„å»ºè¾“å‡º
â”œâ”€â”€ dist-web/                     # å‰ç«¯æ„å»ºè¾“å‡º
â”œâ”€â”€ node_modules/                 # ä¾èµ–åŒ…
â”œâ”€â”€ prisma/                       # æ•°æ®åº“é…ç½®
â”œâ”€â”€ src/                          # æºä»£ç 
â””â”€â”€ test/                         # æµ‹è¯•æ–‡ä»¶
```

### æºä»£ç ç»“æ„ (`src/`)
```
src/
â”œâ”€â”€ ğŸ¯ ACTIVE FILES (å½“å‰ä½¿ç”¨)
â”‚   â”œâ”€â”€ main.ts                   # âœ… Electron ä¸»è¿›ç¨‹ (TypeScript)
â”‚   â”œâ”€â”€ preload.js                # âœ… é¢„åŠ è½½è„šæœ¬ (IPC æ¡¥æ¥)
â”‚   â”œâ”€â”€ core/                     # âœ… æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ prismadb.js          # âœ… Prisma æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ database.js          # âœ… æ•°æ®åº“æ“ä½œæ¥å£
â”‚   â”œâ”€â”€ crypto/                   # âœ… åŠ å¯†ç›¸å…³
â”‚   â”‚   â””â”€â”€ crypto.js            # âœ… åŠ å¯†å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ generated/                # âœ… Prisma ç”Ÿæˆæ–‡ä»¶
â”‚   â”œâ”€â”€ migrations/               # âœ… æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/                    # âœ… å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ui/                       # âœ… Vue 3 å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ index.html           # âœ… å…¥å£ HTML
â”‚       â”œâ”€â”€ main.ts              # âœ… Vue åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ App.vue              # âœ… æ ¹ç»„ä»¶
â”‚       â”œâ”€â”€ style.css            # âœ… å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ vite-env.d.ts        # âœ… Vite ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ components/          # âœ… Vue ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ArchitectureTest.vue  # âœ… æ¶æ„æµ‹è¯•ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ StatusBar.vue         # âœ… çŠ¶æ€æ ç»„ä»¶
â”‚       â”‚   â””â”€â”€ TitleBar.vue          # âœ… æ ‡é¢˜æ ç»„ä»¶
â”‚       â”œâ”€â”€ views/               # âœ… é¡µé¢è§†å›¾
â”‚       â”‚   â”œâ”€â”€ HomeView.vue     # âœ… ä¸»é¡µ
â”‚       â”‚   â”œâ”€â”€ AboutView.vue    # âœ… å…³äºé¡µ
â”‚       â”‚   â”œâ”€â”€ LoginView.vue    # âœ… ç™»å½•é¡µ
â”‚       â”‚   â”œâ”€â”€ ProjectView.vue  # âœ… é¡¹ç›®è¯¦æƒ…é¡µ
â”‚       â”‚   â”œâ”€â”€ EditorView.vue   # âœ… ç¼–è¾‘å™¨é¡µ
â”‚       â”‚   â””â”€â”€ SettingsView.vue # âœ… è®¾ç½®é¡µ
â”‚       â”œâ”€â”€ stores/              # âœ… Pinia çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ index.ts         # âœ… Store å…¥å£
â”‚       â”‚   â”œâ”€â”€ app.ts           # âœ… åº”ç”¨å…¨å±€çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ user.ts          # âœ… ç”¨æˆ·çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ project.ts       # âœ… é¡¹ç›®çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ chapter.ts       # âœ… ç« èŠ‚çŠ¶æ€
â”‚       â”‚   â””â”€â”€ system.ts        # âš ï¸ æ—§ç³»ç»ŸçŠ¶æ€ (å¯åˆ é™¤)
â”‚       â”œâ”€â”€ router/              # âœ… Vue Router é…ç½®
â”‚       â”‚   â””â”€â”€ index.ts         # âœ… è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ services/            # âœ… API æœåŠ¡å±‚
â”‚       â”‚   â””â”€â”€ api.ts           # âœ… IPC é€šä¿¡å°è£…
â”‚       â”œâ”€â”€ types/               # âœ… TypeScript ç±»å‹
â”‚       â”‚   â”œâ”€â”€ electron.ts      # âœ… Electron ç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ models.ts        # âœ… æ•°æ®æ¨¡å‹ç±»å‹
â”‚       â””â”€â”€ composables/         # ğŸ“ ç©ºæ–‡ä»¶å¤¹ (å¯åˆ é™¤)
â”‚
â””â”€â”€ ğŸ—‘ï¸ LEGACY FILES (é—ç•™æ–‡ä»¶ - å¾…æ¸…ç†)
    â”œâ”€â”€ main.js                   # âŒ æ—§ä¸»è¿›ç¨‹ (å·²è¢« main.ts æ›¿ä»£)
    â”œâ”€â”€ renderer.js               # âŒ æ—§æ¸²æŸ“è¿›ç¨‹ (å·²è¿ç§»åˆ° Vue 3)
    â”œâ”€â”€ index.html               # âŒ æ—§ HTML å…¥å£ (å·²è¿ç§»åˆ° ui/)
    â”œâ”€â”€ index-new.html           # âŒ å®éªŒæ€§æ–‡ä»¶ (æœªä½¿ç”¨)
    â”œâ”€â”€ styles.css               # âŒ æ—§å…¨å±€æ ·å¼ (å·²è¿ç§»åˆ° ui/)
    â”œâ”€â”€ styles/                  # âŒ æ—§æ ·å¼ç›®å½•
    â”‚   â””â”€â”€ main.css             # âŒ æ—§ä¸»æ ·å¼æ–‡ä»¶
    â”œâ”€â”€ scripts/                 # âŒ æ—§è„šæœ¬ç›®å½•
    â”‚   â””â”€â”€ main.js              # âŒ æ—§ä¸»è„šæœ¬
    â”œâ”€â”€ types/                   # âŒ æ—§ç±»å‹å®šä¹‰ (å·²è¿ç§»åˆ° ui/types/)
    â”‚   â”œâ”€â”€ interfaces.ts        # âŒ æ—§æ¥å£å®šä¹‰
    â”‚   â””â”€â”€ modules.d.ts         # âŒ æ—§æ¨¡å—å®šä¹‰
    â”œâ”€â”€ shared/                  # ğŸ“ ç©ºæ–‡ä»¶å¤¹ (è®¡åˆ’ä½¿ç”¨ä½†æœªå®ç°)
    â”œâ”€â”€ editor/                  # ğŸ“ ç©ºæ–‡ä»¶å¤¹ (è®¡åˆ’ä½¿ç”¨ä½†æœªå®ç°)
    â””â”€â”€ blockchain/              # ğŸ“ ç©ºæ–‡ä»¶å¤¹ (è®¡åˆ’ä½¿ç”¨ä½†æœªå®ç°)
```

---

## ğŸ§¹ æ¨èæ¸…ç†çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹

### ğŸ”´ ç«‹å³åˆ é™¤ - å·²åºŸå¼ƒçš„æ–‡ä»¶
```bash
# æ—§çš„æ¸²æŸ“è¿›ç¨‹æ–‡ä»¶ (å·²è¿ç§»åˆ° Vue 3)
src/renderer.js
src/index.html
src/index-new.html
src/styles.css

# æ—§çš„æ ·å¼å’Œè„šæœ¬ç›®å½•
src/styles/
src/scripts/

# æ—§çš„ä¸»è¿›ç¨‹æ–‡ä»¶ (å·²è¢« TypeScript ç‰ˆæœ¬æ›¿ä»£)
src/main.js

# æ—§çš„ç±»å‹å®šä¹‰ (å·²è¿ç§»åˆ° ui/types/)
src/types/

# æœªä½¿ç”¨çš„ç³»ç»ŸçŠ¶æ€ç®¡ç†
src/ui/stores/system.ts
```

### ğŸŸ¡ å¯é€‰åˆ é™¤ - ç©ºæ–‡ä»¶å¤¹
```bash
# ç©ºçš„è®¡åˆ’ç›®å½• (å¦‚æœç¡®å®šä¸ä½¿ç”¨)
src/shared/          # å…±äº«ä»£ç ç›®å½• (è®¡åˆ’ä¸­)
src/editor/          # ç¼–è¾‘å™¨ç›®å½• (è®¡åˆ’ä¸­)  
src/blockchain/      # åŒºå—é“¾ç›®å½• (è®¡åˆ’ä¸­)
src/ui/composables/  # Vue ç»„åˆå¼å‡½æ•°ç›®å½• (æš‚æœªä½¿ç”¨)
```

### ğŸŸ¢ ä¿ç•™ä½†å¯é‡æ„
```bash
# æ„å»ºé…ç½®æ–‡ä»¶
vite.config.d.ts      # Vite é…ç½®ç±»å‹å£°æ˜ (æ„å»ºç”Ÿæˆ)
vite.config.d.ts.map  # Source map (æ„å»ºç”Ÿæˆ)
vite.config.js.map    # æ—§é…ç½®çš„ map æ–‡ä»¶ (å¯åˆ é™¤)
```

---

## ğŸ“‹ æ¸…ç†è„šæœ¬

### PowerShell æ¸…ç†å‘½ä»¤
```powershell
# åˆ é™¤å·²åºŸå¼ƒçš„æ–‡ä»¶
Remove-Item "src\renderer.js" -ErrorAction SilentlyContinue
Remove-Item "src\main.js" -ErrorAction SilentlyContinue
Remove-Item "src\index.html" -ErrorAction SilentlyContinue
Remove-Item "src\index-new.html" -ErrorAction SilentlyContinue
Remove-Item "src\styles.css" -ErrorAction SilentlyContinue

# åˆ é™¤å·²åºŸå¼ƒçš„ç›®å½•
Remove-Item "src\styles" -Recurse -ErrorAction SilentlyContinue
Remove-Item "src\scripts" -Recurse -ErrorAction SilentlyContinue
Remove-Item "src\types" -Recurse -ErrorAction SilentlyContinue

# åˆ é™¤ç©ºçš„è®¡åˆ’ç›®å½• (å¯é€‰)
Remove-Item "src\shared" -Recurse -ErrorAction SilentlyContinue
Remove-Item "src\editor" -Recurse -ErrorAction SilentlyContinue
Remove-Item "src\blockchain" -Recurse -ErrorAction SilentlyContinue
Remove-Item "src\ui\composables" -Recurse -ErrorAction SilentlyContinue

# åˆ é™¤æœªä½¿ç”¨çš„ store
Remove-Item "src\ui\stores\system.ts" -ErrorAction SilentlyContinue

# åˆ é™¤æ„å»ºç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶
Remove-Item "vite.config.js.map" -ErrorAction SilentlyContinue

Write-Host "âœ… é¡¹ç›®æ¸…ç†å®Œæˆï¼"
```

---

## ğŸ¯ æ¸…ç†åçš„ç²¾ç®€ç»“æ„

```
src/
â”œâ”€â”€ main.ts                      # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ preload.js                   # é¢„åŠ è½½è„šæœ¬
â”œâ”€â”€ core/                        # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ crypto/                      # åŠ å¯†å·¥å…·
â”œâ”€â”€ generated/                   # Prisma ç”Ÿæˆæ–‡ä»¶
â”œâ”€â”€ migrations/                  # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â””â”€â”€ ui/                          # Vue 3 å‰ç«¯åº”ç”¨
    â”œâ”€â”€ index.html              # å…¥å£é¡µé¢
    â”œâ”€â”€ main.ts                 # Vue å…¥å£
    â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
    â”œâ”€â”€ style.css               # å…¨å±€æ ·å¼
    â”œâ”€â”€ components/             # ç»„ä»¶
    â”œâ”€â”€ views/                  # é¡µé¢è§†å›¾
    â”œâ”€â”€ stores/                 # çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
    â”œâ”€â”€ services/               # API æœåŠ¡
    â””â”€â”€ types/                  # ç±»å‹å®šä¹‰
```

---

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

### æ–‡ä»¶æ•°é‡ç»Ÿè®¡
- **æ´»è·ƒæ–‡ä»¶**: ~45 ä¸ª
- **åºŸå¼ƒæ–‡ä»¶**: ~8 ä¸ª
- **ç©ºæ–‡ä»¶å¤¹**: ~4 ä¸ª
- **æ¸…ç†åèŠ‚çœ**: çº¦ 15% çš„æ–‡ä»¶æ•°é‡

### æŠ€æœ¯å€ºåŠ¡æ¸…ç†
- âœ… **ä¸»è¿›ç¨‹**: JavaScript â†’ TypeScript è¿ç§»å®Œæˆ
- âœ… **å‰ç«¯æ¡†æ¶**: ä¼ ç»Ÿ HTML/JS â†’ Vue 3 + TypeScript å®Œæˆ
- âœ… **çŠ¶æ€ç®¡ç†**: æ— çŠ¶æ€ â†’ Pinia çŠ¶æ€ç®¡ç†å®Œæˆ
- âœ… **è·¯ç”±ç³»ç»Ÿ**: å•é¡µé¢ â†’ Vue Router å¤šé¡µé¢å®Œæˆ
- âœ… **æ„å»ºç³»ç»Ÿ**: ä¼ ç»Ÿæ„å»º â†’ Vite ç°ä»£æ„å»ºå®Œæˆ

---

## ğŸš€ æ¶æ„ä¼˜åŠ¿

### ç°ä»£åŒ–æ¶æ„
1. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript æ”¯æŒ
2. **ç»„ä»¶åŒ–**: Vue 3 Composition API
3. **å“åº”å¼**: Pinia çŠ¶æ€ç®¡ç†
4. **æ¨¡å—åŒ–**: æ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡
5. **å¼€å‘ä½“éªŒ**: Vite çƒ­é‡è½½

### å¯ç»´æŠ¤æ€§æå‡
1. **ä»£ç å¤ç”¨**: ç»„ä»¶åŒ–æ¶æ„
2. **ç±»å‹æ£€æŸ¥**: ç¼–è¯‘æ—¶é”™è¯¯æ£€æµ‹
3. **è°ƒè¯•å‹å¥½**: Vue DevTools æ”¯æŒ
4. **æ–‡æ¡£æ¸…æ™°**: è‡ªæ–‡æ¡£åŒ–çš„ TypeScript

### æ€§èƒ½ä¼˜åŒ–
1. **æŒ‰éœ€åŠ è½½**: Vue Router æ‡’åŠ è½½
2. **Tree Shaking**: Vite æ„å»ºä¼˜åŒ–
3. **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½ä¾èµ–ç®¡ç†
4. **å¼€å‘æ•ˆç‡**: çƒ­é‡è½½ + ç±»å‹æç¤º

---

## ğŸ“ ç»´æŠ¤å»ºè®®

### çŸ­æœŸ (1-2å‘¨)
1. âœ… **æ‰§è¡Œæ¸…ç†è„šæœ¬**: åˆ é™¤åºŸå¼ƒæ–‡ä»¶
2. ğŸ”„ **æµ‹è¯•åŠŸèƒ½**: ç¡®ä¿æ¸…ç†ååº”ç”¨æ­£å¸¸
3. ğŸ“š **æ›´æ–°æ–‡æ¡£**: åŒæ­¥ README.md

### ä¸­æœŸ (1ä¸ªæœˆ)
1. ğŸ¨ **UI ä¼˜åŒ–**: å®Œå–„ç»„ä»¶æ ·å¼
2. ğŸ”§ **åŠŸèƒ½è¡¥å…¨**: å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
3. ğŸ§ª **æµ‹è¯•è¦†ç›–**: æ·»åŠ å•å…ƒæµ‹è¯•

### é•¿æœŸ (3ä¸ªæœˆ)
1. ğŸ“¦ **æ‰“åŒ…ä¼˜åŒ–**: Electron Builder é…ç½®
2. ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
3. ğŸ” **å®‰å…¨åŠ å›º**: ä»£ç ç­¾åå’Œæ›´æ–°æœºåˆ¶

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ9æ—¥  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: Vue 3 + TypeScript æ¶æ„è¿ç§»å®Œæˆ  
**ä¸‹ä¸€æ­¥**: æ‰§è¡Œæ¸…ç†è„šæœ¬ï¼Œå¼€å§‹ä¸šåŠ¡åŠŸèƒ½å¼€å‘