# Gestell Yjs Server

è¿™æ˜¯ Gestell é¡¹ç›®çš„ååŒç¼–è¾‘ WebSocket æœåŠ¡å™¨ï¼ŒåŸºäº Yjs åè®®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ å®æ—¶æ–‡æ¡£åŒæ­¥
- ğŸ‘¥ ç”¨æˆ· Awarenessï¼ˆå…‰æ ‡ä½ç½®ã€é€‰æ‹©ç­‰ï¼‰
- ğŸ“„ æ–‡æ¡£æŒä¹…åŒ–
- ğŸ”— æ”¯æŒå¤šç§è¿æ¥æ ¼å¼
- ğŸ¥ å¥åº·æ£€æŸ¥æ¥å£
- ğŸ“Š æ–‡æ¡£çŠ¶æ€ç›‘æ§

## å®‰è£…ä¾èµ–

```bash
cd yjs-server
npm install
```

## å¯åŠ¨æœåŠ¡å™¨

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### ç”Ÿäº§æ¨¡å¼
```bash
npm start
```

## API æ¥å£

### WebSocket è¿æ¥
- `ws://localhost:3001/signaling/room-name`
- `ws://localhost:3001/signaling?room=room-name`

### HTTP æ¥å£
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /docs/:docName` - è·å–æ–‡æ¡£ä¿¡æ¯

## æ”¯æŒçš„ URL æ ¼å¼

### è·¯å¾„å‚æ•°æ ¼å¼
```
ws://localhost:3001/signaling/gestell-01K79N7571KD5252NF9V087HK8
```

### æŸ¥è¯¢å‚æ•°æ ¼å¼
```
ws://localhost:3001/signaling?room=gestell-01K79N7571KD5252NF9V087HK8
```

## é…ç½®

é»˜è®¤ç«¯å£ï¼š3001
å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ `PORT` ä¿®æ”¹ï¼š
```bash
PORT=8080 npm start
```

## ç›‘æ§

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:3001/health
```

### æ–‡æ¡£ä¿¡æ¯
```bash
curl http://localhost:3001/docs/gestell-01K79N7571KD5252NF9V087HK8
```

## æ—¥å¿—

æœåŠ¡å™¨ä¼šè¾“å‡ºè¯¦ç»†çš„è¿æ¥å’Œæ–‡æ¡£æ“ä½œæ—¥å¿—ï¼š
- ğŸ”— æ–°è¿æ¥
- ğŸ“„ æ–‡æ¡£åˆ›å»º/è®¿é—®
- âŒ é”™è¯¯ä¿¡æ¯
- ğŸ’¾ å…³é—­æ—¶çš„æ–‡æ¡£çŠ¶æ€

## æ¶æ„è¯´æ˜

- ä½¿ç”¨ `y-websocket` çš„æ ‡å‡†åè®®å¤„ç†å‡½æ•°
- è‡ªåŠ¨å¤„ç† Yjs çš„äºŒè¿›åˆ¶åè®®
- æ”¯æŒæ–‡æ¡£æŒä¹…åŒ–ï¼ˆç¦ç”¨åƒåœ¾å›æ”¶ï¼‰
- æä¾›å®Œæ•´çš„ Awareness æ”¯æŒ