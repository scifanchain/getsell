<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestell - 去中心化科幻写作工具</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- 自定义标题栏 -->
    <div class="titlebar">
        <div class="titlebar-content">
            <div class="titlebar-title">
                <span class="app-icon">📝</span>
                <span>Gestell</span>
                <span class="db-status" id="db-status">🔗 混合数据库</span>
            </div>
            <div class="titlebar-controls">
                <button class="titlebar-btn" id="min-btn">—</button>
                <button class="titlebar-btn" id="max-btn">□</button>
                <button class="titlebar-btn close" id="close-btn">×</button>
            </div>
        </div>
    </div>

    <!-- 主布局 -->
    <div class="main-layout">
        <!-- 侧边栏 -->
        <div class="sidebar">
            <div class="sidebar-section">
                <div class="section-header">
                    <h3>📚 我的作品</h3>
                    <button class="btn-icon" id="new-work-btn" title="创建新作品">+</button>
                </div>
                <div class="works-list" id="works-list">
                    <!-- 作品列表将在这里动态加载 -->
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-header">
                    <h3>📊 统计信息</h3>
                    <button class="btn-icon" id="refresh-stats-btn" title="刷新统计">⟳</button>
                </div>
                <div class="stats-grid" id="stats-grid">
                    <!-- 统计信息将在这里显示 -->
                </div>
            </div>

            <div class="sidebar-section">
                <div class="section-header">
                    <h3>🔧 数据库测试</h3>
                </div>
                <div class="test-controls">
                    <button class="btn-small" id="test-performance-btn">性能测试</button>
                    <button class="btn-small" id="view-schema-btn">查看结构</button>
                </div>
            </div>
        </div>

        <!-- 主内容区 -->
        <div class="main-content">
            <div class="content-header">
                <h1 id="content-title">欢迎使用 Gestell</h1>
                <div class="content-actions">
                    <button class="btn-primary" id="quick-start-btn">快速开始</button>
                </div>
            </div>

            <div class="content-body" id="content-body">
                <div class="welcome-screen">
                    <div class="welcome-card">
                        <h2>🚀 开始您的科幻创作之旅</h2>
                        <p>Gestell 是一款现代化的去中心化科幻写作工具，支持区块链版权保护和协作创作。</p>
                        
                        <div class="feature-grid">
                            <div class="feature-item">
                                <div class="feature-icon">📖</div>
                                <h3>层次化章节</h3>
                                <p>支持3层嵌套的章节结构，让您的作品条理清晰</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">🔗</div>
                                <h3>区块链版权</h3>
                                <p>内容自动上链，保护您的创作版权</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">🤝</div>
                                <h3>协作创作</h3>
                                <p>支持多人协作，共同创造精彩故事</p>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon">⚡</div>
                                <h3>高性能数据库</h3>
                                <p>混合数据库架构，兼顾性能与功能</p>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-primary" id="create-first-work">创建第一部作品</button>
                            <button class="btn-secondary" id="import-work">导入现有作品</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 作品详情面板 -->
    <div class="work-detail-panel" id="work-detail-panel" style="display: none;">
        <div class="panel-header">
            <h2 id="work-title">作品详情</h2>
            <button class="btn-icon" id="close-work-panel">×</button>
        </div>
        <div class="panel-content">
            <div class="work-info" id="work-info">
                <!-- 作品信息 -->
            </div>
            <div class="chapters-section">
                <div class="section-header">
                    <h3>📑 章节结构</h3>
                    <button class="btn-icon" id="new-chapter-btn">+</button>
                </div>
                <div class="chapters-tree" id="chapters-tree">
                    <!-- 章节树 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 模态对话框 -->
    <div class="modal-overlay" id="modal-overlay" style="display: none;">
        <div class="modal" id="modal">
            <div class="modal-header">
                <h3 id="modal-title">标题</h3>
                <button class="btn-icon" id="modal-close">×</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- 模态内容 -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="modal-cancel">取消</button>
                <button class="btn-primary" id="modal-confirm">确认</button>
            </div>
        </div>
    </div>

    <!-- 加载脚本 -->
    <script src="scripts/main.js"></script>
</body>
</html>