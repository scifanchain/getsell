# Gestell âœï¸

**ä¼˜é›…çš„å†™ä½œå·¥å…·ï¼Œè®©åˆ›ä½œæ›´ç®€å•**

ä¸€ä¸ªåŸºäº Electron + Vue 3 + TypeScript æ„å»ºçš„ç°ä»£åŒ–æ¡Œé¢å†™ä½œåº”ç”¨ï¼Œä¸“ä¸ºä½œå®¶ã€åšä¸»å’Œå†…å®¹åˆ›ä½œè€…è®¾è®¡ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - Vue 3 + TypeScript æ„å»ºçš„ä¼˜é›… UI
- ğŸ“ **æ™ºèƒ½ç¼–è¾‘å™¨** - ä¸“ä¸ºå†™ä½œä¼˜åŒ–çš„ç¼–è¾‘ç¯å¢ƒ  
- ğŸ“ **é¡¹ç›®ç®¡ç†** - æ”¯æŒå¤šé¡¹ç›®å’Œç« èŠ‚ç»„ç»‡
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨** - åŸºäº Prisma + SQLite çš„å¯é æ•°æ®å­˜å‚¨
- ğŸŒ™ **ä¸»é¢˜åˆ‡æ¢** - æ”¯æŒæ·±è‰²/æµ…è‰²æ¨¡å¼
- âš¡ **å¿«é€Ÿå“åº”** - Vite æ„å»ºç³»ç»Ÿæä¾›æé€Ÿå¼€å‘ä½“éªŒ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **æ¡Œé¢æ¡†æ¶**: Electron 33.x
- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±ç®¡ç†**: Vue Router 4
- **æ„å»ºå·¥å…·**: Vite 6.x
- **æ•°æ®åº“**: Prisma + SQLite
- **æ ·å¼æ–¹æ¡ˆ**: åŸç”Ÿ CSS + å“åº”å¼è®¾è®¡

### é¡¹ç›®ç»“æ„

```
gestell/
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.ts                   # Electron ä¸»è¿›ç¨‹ (TypeScript)
â”‚   â”œâ”€â”€ preload.js                # é¢„åŠ è½½è„šæœ¬ (IPC æ¡¥æ¥)
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ prismadb.js          # Prisma æ•°æ®åº“é…ç½®
â”‚   â”‚   â””â”€â”€ ulid.js              # ULID ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ crypto/                   # åŠ å¯†å·¥å…·
â”‚   â”œâ”€â”€ migrations/               # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ ui/                       # Vue 3 å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ index.html           # åº”ç”¨å…¥å£é¡µé¢
â”‚       â”œâ”€â”€ main.ts              # Vue åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚       â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ArchitectureTest.vue  # æ¶æ„æµ‹è¯•ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ StatusBar.vue         # çŠ¶æ€æ 
â”‚       â”‚   â””â”€â”€ TitleBar.vue          # æ ‡é¢˜æ 
â”‚       â”œâ”€â”€ views/               # é¡µé¢è§†å›¾
â”‚       â”‚   â”œâ”€â”€ HomeView.vue     # ä¸»é¡µ
â”‚       â”‚   â”œâ”€â”€ LoginView.vue    # ç™»å½•é¡µ
â”‚       â”‚   â”œâ”€â”€ ProjectView.vue  # é¡¹ç›®è¯¦æƒ…
â”‚       â”‚   â”œâ”€â”€ EditorView.vue   # ç¼–è¾‘å™¨
â”‚       â”‚   â”œâ”€â”€ SettingsView.vue # è®¾ç½®é¡µ
â”‚       â”‚   â””â”€â”€ AboutView.vue    # å…³äºé¡µ
â”‚       â”œâ”€â”€ stores/              # Pinia çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ app.ts           # åº”ç”¨å…¨å±€çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ user.ts          # ç”¨æˆ·çŠ¶æ€
â”‚       â”‚   â”œâ”€â”€ project.ts       # é¡¹ç›®çŠ¶æ€
â”‚       â”‚   â””â”€â”€ chapter.ts       # ç« èŠ‚çŠ¶æ€
â”‚       â”œâ”€â”€ router/              # Vue Router é…ç½®
â”‚       â”œâ”€â”€ services/            # API æœåŠ¡å±‚
â”‚       â””â”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ prisma/                       # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.prisma            # æ•°æ®åº“æ¨¡å¼å®šä¹‰
â”‚   â””â”€â”€ migrations/              # è¿ç§»å†å²
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”œâ”€â”€ dist/                         # ä¸»è¿›ç¨‹æ„å»ºè¾“å‡º
â”œâ”€â”€ dist-web/                     # å‰ç«¯æ„å»ºè¾“å‡º
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
â””â”€â”€ cleanup-project.ps1          # é¡¹ç›®æ¸…ç†è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+ 
- npm æˆ– yarn
- Git

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (å‰ç«¯çƒ­é‡è½½ + Electron)
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run dev:vite    # å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
npm run dev:electron # å¯åŠ¨ Electron (éœ€è¦å…ˆå¯åŠ¨ Vite)
```

### æ„å»ºé¡¹ç›®
```bash
# æ„å»ºæ•´ä¸ªé¡¹ç›®
npm run build

# åˆ†åˆ«æ„å»º
npm run build:main   # æ„å»ºä¸»è¿›ç¨‹ (TypeScript)
npm run build:web    # æ„å»ºå‰ç«¯ (Vue + Vite)
```

### è¿è¡Œåº”ç”¨
```bash
# æ„å»ºå¹¶å¯åŠ¨åº”ç”¨
npm start

# æ¸…ç†æ„å»ºç¼“å­˜
npm run clean
```

## ğŸ§¹ é¡¹ç›®ç»´æŠ¤

### æ¸…ç†åºŸå¼ƒæ–‡ä»¶
```bash
# è¿è¡Œè‡ªåŠ¨æ¸…ç†è„šæœ¬
.\cleanup-project.ps1
```

### æ•°æ®åº“ç®¡ç†
```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# æŸ¥çœ‹æ•°æ®åº“
npx prisma studio

# é‡ç½®æ•°æ®åº“
npx prisma migrate reset
```

## ğŸ“š å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢
1. åœ¨ `src/ui/views/` åˆ›å»º Vue ç»„ä»¶
2. åœ¨ `src/ui/router/index.ts` æ·»åŠ è·¯ç”±
3. åœ¨å¯¼èˆªç»„ä»¶ä¸­æ·»åŠ é“¾æ¥

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `src/ui/stores/` åˆ›å»ºçŠ¶æ€ç®¡ç†
2. åœ¨ `src/ui/services/` æ·»åŠ  API è°ƒç”¨
3. åœ¨ä¸»è¿›ç¨‹ `src/main.ts` æ·»åŠ  IPC å¤„ç†

### æ•°æ®åº“æ“ä½œ
1. ä¿®æ”¹ `prisma/schema.prisma`
2. è¿è¡Œ `npx prisma migrate dev`
3. æ›´æ–°ç›¸å…³ç±»å‹å®šä¹‰

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ (.env)
```env
# æ•°æ®åº“è¿æ¥
DATABASE_URL="file:./data/gestell.db"

# å¼€å‘æ¨¡å¼è®¾ç½®
NODE_ENV=development
```

### TypeScript é…ç½®
- `tsconfig.json` - å…¨å±€ TS é…ç½®
- `tsconfig.main.json` - ä¸»è¿›ç¨‹ä¸“ç”¨é…ç½®
- `src/ui/vite-env.d.ts` - Vite ç¯å¢ƒç±»å‹

## ğŸš¦ é¡¹ç›®çŠ¶æ€

- âœ… **æ¶æ„è¿ç§»å®Œæˆ**: Vue 3 + TypeScript
- âœ… **æ•°æ®åº“é›†æˆ**: Prisma + SQLite  
- âœ… **çŠ¶æ€ç®¡ç†**: Pinia stores
- âœ… **è·¯ç”±ç³»ç»Ÿ**: Vue Router
- ğŸ”„ **æ­£åœ¨å¼€å‘**: ç¼–è¾‘å™¨åŠŸèƒ½
- ğŸ“‹ **è®¡åˆ’ä¸­**: æ’ä»¶ç³»ç»Ÿ

## ğŸ“‹ æ–‡æ¡£

- [é¡¹ç›®ç»“æ„åˆ†æ](./PROJECT_STRUCTURE_ANALYSIS.md) - è¯¦ç»†çš„é¡¹ç›®ç»“æ„å’Œæ¸…ç†æŒ‡å—
- [æ¸…ç†è„šæœ¬](./cleanup-project.ps1) - è‡ªåŠ¨åŒ–é¡¹ç›®æ¸…ç†å·¥å…·

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issues å’Œ Pull Requestsï¼

---

**Gestell** - è®©å†™ä½œæˆä¸ºäº«å— âœ¨