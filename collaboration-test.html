<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestell ååŒç¼–è¾‘æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #007bff;
        }
        .feature-card h3 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
        .status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.completed {
            background: #d4edda;
            color: #155724;
        }
        .status.in-progress {
            background: #fff3cd;
            color: #856404;
        }
        .status.not-started {
            background: #f8d7da;
            color: #721c24;
        }
        .demo-instructions {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .demo-instructions h4 {
            margin: 0 0 10px 0;
            color: #004085;
        }
        .step-list {
            list-style: none;
            padding: 0;
        }
        .step-list li {
            margin: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        .step-list li:before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 0;
            background: #007bff;
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
        }
        .step-list {
            counter-reset: step-counter;
        }
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .tech-badge {
            background: #6c757d;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }
        .network-diagram {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .network-node {
            display: inline-block;
            background: #007bff;
            color: white;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 4px;
            font-size: 12px;
        }
        .connection-line {
            color: #6c757d;
            font-size: 14px;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¤ Gestell ååŒç¼–è¾‘ç³»ç»Ÿ</h1>
        <p>åŸºäº Yjs + WebRTC + ProseMirror çš„å»ä¸­å¿ƒåŒ–å®æ—¶åä½œç¼–è¾‘å¹³å°</p>
        <div class="tech-stack">
            <span class="tech-badge">Yjs</span>
            <span class="tech-badge">ProseMirror</span>
            <span class="tech-badge">WebRTC</span>
            <span class="tech-badge">WebSocket</span>
            <span class="tech-badge">SQLite</span>
            <span class="tech-badge">Prisma</span>
            <span class="tech-badge">Vue 3</span>
            <span class="tech-badge">TypeScript</span>
            <span class="tech-badge">Electron</span>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ å¼€å‘è¿›åº¦æ€»è§ˆ</h2>
        <div class="feature-list">
            <div class="feature-card">
                <h3>æ•°æ®æ¨¡å‹è®¾è®¡ <span class="status completed">å·²å®Œæˆ</span></h3>
                <p>æ‰©å±• Prisma schemaï¼Œæ·»åŠ ååŒç¼–è¾‘ç›¸å…³æ•°æ®è¡¨ï¼Œå»ºç«‹ä¸ç°æœ‰æ¨¡å‹çš„å…³è”å…³ç³»ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>æ•°æ®åº“è¿ç§» <span class="status completed">å·²å®Œæˆ</span></h3>
                <p>åº”ç”¨æ–°çš„ååŒç¼–è¾‘æ•°æ®ç»“æ„è¿ç§»ï¼Œç¡®ä¿ç°æœ‰æ•°æ®å…¼å®¹æ€§ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>æ ¸å¿ƒæœåŠ¡å±‚ <span class="status completed">å·²å®Œæˆ</span></h3>
                <p>å®ç° YjsCollaborationService å’Œ CollaborationRepositoryï¼Œæä¾›æ ¸å¿ƒååŒåŠŸèƒ½ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ç¼–è¾‘å™¨é›†æˆ <span class="status completed">å·²å®Œæˆ</span></h3>
                <p>åˆ›å»º CollaborativeProseMirrorEditor.vueï¼Œé›†æˆ y-prosemirror æ’ä»¶ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ä¿¡å·æœåŠ¡å™¨ <span class="status completed">å·²å®Œæˆ</span></h3>
                <p>éƒ¨ç½² WebSocket ä¿¡å·æœåŠ¡å™¨ï¼Œä¸º WebRTC è¿æ¥æä¾›åˆå§‹åè°ƒã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ç”¨æˆ·ç•Œé¢é›†æˆ <span class="status in-progress">è¿›è¡Œä¸­</span></h3>
                <p>åœ¨ WritingView ä¸­é›†æˆååŒç¼–è¾‘åŠŸèƒ½ï¼Œæä¾›æ¨¡å¼åˆ‡æ¢å’Œåä½œè€…æ˜¾ç¤ºã€‚</p>
            </div>
            <div class="feature-card">
                <h3>æŒä¹…åŒ–å±‚ <span class="status not-started">å¾…å¼€å§‹</span></h3>
                <p>å®ç° Yjs æ–‡æ¡£çŠ¶æ€ä¸ SQLite æ•°æ®åº“çš„åŒå‘åŒæ­¥ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>P2P ç½‘ç»œ <span class="status not-started">å¾…å¼€å§‹</span></h3>
                <p>é…ç½® y-webrtc å®ç°ç‚¹å¯¹ç‚¹è¿æ¥ï¼Œå»ºç«‹å»ä¸­å¿ƒåŒ–åä½œç½‘ç»œã€‚</p>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ—ï¸ ç½‘ç»œæ¶æ„</h2>
        <div class="network-diagram">
            <div class="network-node">ç”¨æˆ· A</div>
            <span class="connection-line">âŸ· WebRTC P2P âŸ·</span>
            <div class="network-node">ç”¨æˆ· B</div>
            <br><br>
            <div class="network-node">WebSocket ä¿¡å·æœåŠ¡å™¨</div>
            <span class="connection-line">ws://localhost:3001/signaling</span>
            <br><br>
            <div class="network-node">SQLite æ•°æ®åº“</div>
            <span class="connection-line">âŸ· Prisma ORM âŸ·</span>
            <div class="network-node">Yjs æŒä¹…åŒ–</div>
        </div>
        <p style="text-align: center; color: #6c757d; font-size: 14px;">
            æ··åˆç½‘ç»œæ¨¡å¼ï¼šWebRTC P2P ä¸ºä¸»ï¼ŒWebSocket ä¸ºå¤‡ç”¨é€šé“
        </p>
    </div>

    <div class="test-section">
        <h2>ğŸ§ª æµ‹è¯•è¯´æ˜</h2>
        <div class="demo-instructions">
            <h4>å¦‚ä½•æµ‹è¯•ååŒç¼–è¾‘åŠŸèƒ½ï¼š</h4>
            <ol class="step-list">
                <li>å¯åŠ¨ Gestell åº”ç”¨ç¨‹åºï¼ˆnpm run devï¼‰</li>
                <li>ç™»å½•å¹¶åˆ›å»ºæˆ–æ‰“å¼€ä¸€ä¸ªä½œå“</li>
                <li>é€‰æ‹©ä¸€ä¸ªç« èŠ‚è¿›å…¥å†™ä½œæ¨¡å¼</li>
                <li>ç‚¹å‡»ç¼–è¾‘å™¨ä¸Šæ–¹çš„ "ååŒæ¨¡å¼" æŒ‰é’®</li>
                <li>åœ¨å¦ä¸€å°è®¾å¤‡æˆ–æµè§ˆå™¨çª—å£ä¸­é‡å¤æ­¥éª¤ 1-4</li>
                <li>å¼€å§‹åœ¨ä¸¤ä¸ªçª—å£ä¸­åŒæ—¶ç¼–è¾‘ï¼Œè§‚å¯Ÿå®æ—¶åŒæ­¥æ•ˆæœ</li>
                <li>è§‚å¯Ÿåä½œè€…åˆ—è¡¨å’Œè¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨</li>
                <li>æµ‹è¯•æ–­ç½‘é‡è¿å’Œå†²çªè§£å†³åŠŸèƒ½</li>
            </ol>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h2>
        <div class="feature-list">
            <div class="feature-card">
                <h3>ğŸ”„ å®æ—¶åŒæ­¥</h3>
                <p>åŸºäº Yjs CRDT ç®—æ³•ï¼Œç¡®ä¿å¤šç”¨æˆ·ç¼–è¾‘çš„å¼ºä¸€è‡´æ€§ï¼Œæ— éœ€ä¸­å¤®æœåŠ¡å™¨åè°ƒã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ‘¥ åä½œæ„ŸçŸ¥</h3>
                <p>å®æ—¶æ˜¾ç¤ºåœ¨çº¿åä½œè€…ã€ç¼–è¾‘å…‰æ ‡ä½ç½®ã€ç”¨æˆ·å¤´åƒå’ŒçŠ¶æ€ä¿¡æ¯ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ğŸŒ å»ä¸­å¿ƒåŒ–</h3>
                <p>WebRTC P2P è¿æ¥ï¼Œå‡å°‘æœåŠ¡å™¨ä¾èµ–ï¼Œæé«˜éšç§æ€§å’Œå“åº”é€Ÿåº¦ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ’¾ æŒä¹…åŒ–</h3>
                <p>è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ° SQLite æ•°æ®åº“ï¼Œæ”¯æŒç¦»çº¿ç¼–è¾‘å’Œå†å²ç‰ˆæœ¬ç®¡ç†ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ”§ å†²çªè§£å†³</h3>
                <p>æ™ºèƒ½å†²çªæ£€æµ‹å’Œè§£å†³æœºåˆ¶ï¼Œç¡®ä¿ç¼–è¾‘æ“ä½œçš„é€»è¾‘ä¸€è‡´æ€§ã€‚</p>
            </div>
            <div class="feature-card">
                <h3>ğŸ“± è·¨å¹³å°</h3>
                <p>åŸºäº Electron çš„æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒ Windowsã€macOSã€Linux å¤šå¹³å°ã€‚</p>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“Š æŠ€æœ¯å®ç°ç»†èŠ‚</h2>
        <div class="feature-list">
            <div class="feature-card">
                <h3>æ•°æ®å±‚</h3>
                <p>Prisma ORM + SQLite æ•°æ®åº“<br>
                ååŒæ–‡æ¡£ã€ä¼šè¯ã€æ›´æ–°è®°å½•ç­‰æ•°æ®æ¨¡å‹</p>
            </div>
            <div class="feature-card">
                <h3>æœåŠ¡å±‚</h3>
                <p>YjsCollaborationServiceï¼šæ–‡æ¡£ç”Ÿå‘½å‘¨æœŸç®¡ç†<br>
                CollaborativeEditingIntegrationServiceï¼šç½‘ç»œé›†æˆ</p>
            </div>
            <div class="feature-card">
                <h3>ç¼–è¾‘å™¨å±‚</h3>
                <p>ProseMirror + y-prosemirror æ’ä»¶<br>
                å®æ—¶ååŒç¼–è¾‘ã€å…‰æ ‡åŒæ­¥ã€æ’¤é”€é‡åš</p>
            </div>
            <div class="feature-card">
                <h3>ç½‘ç»œå±‚</h3>
                <p>y-webrtcï¼šP2P è¿æ¥<br>
                y-websocketï¼šå¤‡ç”¨é€šé“<br>
                y-protocolsï¼šæ„ŸçŸ¥åè®®</p>
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’</h2>
        <ol class="step-list">
            <li>å®Œå–„ Yjs-SQLite æŒä¹…åŒ–å±‚å®ç°</li>
            <li>ä¼˜åŒ– P2P ç½‘ç»œè¿æ¥ç¨³å®šæ€§</li>
            <li>å®ç°æƒé™ç®¡ç†å’Œè®¿é—®æ§åˆ¶</li>
            <li>æ·»åŠ å†²çªè§£å†³å’Œç‰ˆæœ¬å†å²åŠŸèƒ½</li>
            <li>æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨åŠ å›º</li>
            <li>ç¼–å†™æµ‹è¯•ç”¨ä¾‹å’Œæ–‡æ¡£</li>
        </ol>
    </div>

    <footer style="text-align: center; margin-top: 40px; padding: 20px; color: #6c757d; font-size: 14px;">
        <p>Gestell ååŒç¼–è¾‘ç³»ç»Ÿ - è®©åˆ›ä½œæ›´åŠ é«˜æ•ˆååŒ</p>
        <p>æ„å»ºäº 2024 å¹´ 12 æœˆï¼ŒåŸºäºç°ä»£ Web æŠ€æœ¯æ ˆ</p>
    </footer>
</body>
</html>